<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Usuario</title>
    {% load static %}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'configuracionUsuario.css' %}">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
    <!-- Vendor CSS Files -->
    <link href="{% static 'assets2/vendor/aos/aos.css' %}" rel="stylesheet">
    <link href="{% static 'assets2/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'assets2/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
    <link href="{% static 'assets2/vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet">
    <link href="{% static 'assets2/vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
    <link href="{% static 'assets2/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">
    <!-- Template Main CSS File -->
    <link href="{% static 'assets2/css/style.css' %}" rel="stylesheet"> 

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

</head>
<body>
<!---===== Include Navbar =====-->
{% if rol == 'Administrador' %}
  {% include 'navbarAdministrador.html' %}
{% else %}
  {% include 'navbarEmpleado.html' %}
{% endif %}

    <div class="container2">
        <div class="row">
            <div class="col-md-6">
                <h2>Editar Usuario</h2>
                <form method="post" action="">
                    {% csrf_token %}
                    <!-- Sección para editar perfil -->
                    <div class="mb-3">
                        <label for="usu_nombre" class="form-label">Nombre:</label>
                        <input type="text" id="usu_nombre" name="usu_nombre" class="form-control" value="{{ usuario.usu_nombre }}">
                    </div>
                    <div class="mb-3">
                        <label for="usu_correo" class="form-label">Correo:</label>
                        <input type="email" id="usu_correo" name="usu_correo" class="form-control" value="{{ usuario.usu_correo }}">
                    </div>
                    <div class="mb-3">
                        <label for="usu_telefono" class="form-label">Teléfono:</label>
                        <input type="number" id="usu_telefono" name="usu_telefono" class="form-control" value="{{ usuario.usu_telefono }}">
                    </div>
                    <div class="mb-3">
                        <label for="usu_direccion" class="form-label">Dirección:</label>
                        <input type="text" id="usu_direccion" name="usu_direccion" class="form-control" value="{{ usuario.usu_direccion }}">
                    </div>
                    <button type="submit" name="submit_perfil" class="btn btn-primary boton">Actualizar Información</button>
                </form>
            </div>

            <div class="col-md-6">
                <h2>Cambiar Contraseña</h2>
                <form method="post" action="">
                    {% csrf_token %}
                    <div class="mb-3">
                        <label for="contraseña_actual" class="form-label">Contraseña Actual:</label>
                        <div class="input-group">
                            <input type="password" id="contraseña_actual" name="contraseña_actual" class="form-control">
                            <span class="input-group-text" onclick="togglePasswordVisibility('contraseña_actual', 'eye-icon-0')">
                                <i id="eye-icon-0" class="fa fa-eye"></i>
                            </span>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="nueva_contraseña" class="form-label">Nueva Contraseña:</label>
                        <div class="input-group">
                            <input type="password" id="nueva_contraseña" name="nueva_contraseña" class="form-control">
                            <span class="input-group-text" onclick="togglePasswordVisibility('nueva_contraseña', 'eye-icon-1')">
                                <i id="eye-icon-1" class="fa fa-eye"></i>
                            </span>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="confirmar_contraseña" class="form-label">Confirmar Nueva Contraseña:</label>
                        <div class="input-group">
                            <input type="password" id="confirmar_contraseña" name="confirmar_contraseña" class="form-control">
                            <span class="input-group-text" onclick="togglePasswordVisibility('confirmar_contraseña', 'eye-icon-2')">
                                <i id="eye-icon-2" class="fa fa-eye"></i>
                            </span>
                        </div>
                    </div>
                    
                    <button type="submit" name="submit_contraseña" class="btn btn-primary boton">Actualizar Contraseña</button>
                </form>
            </div>
        </div>

        {% for message in messages %}
        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script> 


    <script>
        function togglePasswordVisibility(inputId, iconId) {
            var input = document.getElementById(inputId);
            var icon = document.getElementById(iconId);
            if (input.type === "password") {
                input.type = "text";
                icon.classList.remove("fa-eye");
                icon.classList.add("fa-eye-slash");
            } else {
                input.type = "password";
                icon.classList.remove("fa-eye-slash");
                icon.classList.add("fa-eye");
            }
        }
        </script>
        
</body>
</html>
